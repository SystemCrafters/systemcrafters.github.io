<!DOCTYPE html><html lang="en"><head><!--  --><meta charset="utf-8"/><meta author="David Wilson"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="/css/bootstrap.min.css"/><link rel="stylesheet" href="/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="/css/code.css"/><link rel="stylesheet" href="/css/site.css"/><script defer="defer" data-domain="systemcrafters.net" src="https://plausible.io/js/plausible.js"></script><title>Projectile and Magit - System Crafters</title></head><body><div><div class="blog-header"><div class="container"><div class="row align-items-center justify-content-between"><div class="col-sm-12 col-md-8"><div class="blog-title">System Crafters</div></div><div class="col-sm col-md"><div class="blog-description text-sm-left text-md-right text-lg-right text-xl-right"></div></div></div></div></div><div class="blog-masthead"><div class="container"><div class="row align-items-center justify-content-between"><div class="col-sm-12 col-md-12"><nav class="nav"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/videos">Videos</a> <a class="nav-link" href="https://wiki.systemcrafters.cc">Wiki</a> <a class="nav-link" href="https://store.systemcrafters.net?utm_source=sc-site-nav">Merch Store</a> <a class="nav-link" href="/support-the-channel">Support The Channel</a></nav></div></div></div></div></div><div class="container"><div class="row"><div class="col-sm-12 blog-main"><div class="blog-post"><h1 class="blog-post-title">Projectile and Magit</h1><p class="blog-post-meta"></p><div><ul><li><a href="https://youtu.be/INTu30BHZGk">Watch the video</a> on YouTube!</li>
<li>Check out the <a href="https://github.com/daviwil/emacs-from-scratch/tree/500370fa06889dad313e60473d73090fcfbe106d">final code</a> on GitHub</li>
<li>Episode 4 of the <a href="../">Emacs From Scratch</a> series</li>
</ul>

<h2><a id="projectile" class="anchor" href="#projectile">¶</a>Projectile</h2><pre><code class="emacs-lisp">
(<span class="org-keyword">use-package</span> <span class="org-constant">projectile</span>
  <span class="org-builtin">:diminish</span> projectile-mode
  <span class="org-builtin">:config</span> (projectile-mode)
  <span class="org-builtin">:bind-keymap</span>
  (<span class="org-string">"C-c p"</span> . projectile-command-map)
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">when</span> (file-directory-p <span class="org-string">"~/Projects/Code"</span>)
    (<span class="org-keyword">setq</span> projectile-project-search-path '(<span class="org-string">"~/Projects/Code"</span>)))
  (<span class="org-keyword">setq</span> projectile-switch-project-action #'projectile-dired))

</code></pre>

<p><a href="https://github.com/bbatsov/projectile">Projectile</a> on GitHub
<a href="https://docs.projectile.mx/projectile/index.html">Projectile Manual</a>
<a href="https://docs.projectile.mx/projectile/projects.html#storing-project-settings">Projectile Manual - Project Settings</a>
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Directory-Local-Variables.html">Emacs Manual: Directory-Local Variables</a>
</p>

<ul><li>Run project <kbd>C-c p u</kbd></li>
<li>Run tests: <kbd>C-c p P</kbd></li>
<li>Edit dir-locals: <kbd>C-c p E</kbd> (reload with <kbd>hack-dir-local-variables-non-file-buffer</kbd>)</li>
</ul>

<h3><a id="counsel-projectile" class="anchor" href="#counsel-projectile">¶</a>counsel-projectile</h3><p><a href="https://github.com/ericdanan/counsel-projectile">counsel-projectile</a> on GitHub
</p>

<pre><code class="emacs-lisp">
(<span class="org-keyword">use-package</span> <span class="org-constant">counsel-projectile</span>
 <span class="org-builtin">:after</span> projectile
 <span class="org-builtin">:config</span>
 (counsel-projectile-mode 1))

</code></pre>

<ul><li>Advanced project switching: <kbd>C-c p p</kbd></li>
<li>Quick searching with <kbd>counsel-projectile-rg</kbd> - <kbd>C-c p s r</kbd>
<ul><li>Results to buffer with <kbd>C-c C-o</kbd></li>
</ul></li>
</ul>

<h2><a id="magit" class="anchor" href="#magit">¶</a>Magit</h2><p><a href="https://github.com/magit/magit">Magit</a> on GitHub
<a href="https://magit.vc/">Magit Official Site</a>
<a href="https://magit.vc/manual/magit/">Magit Manual</a>
</p>

<pre><code class="emacs-lisp">
(<span class="org-keyword">use-package</span> <span class="org-constant">magit</span>
  <span class="org-builtin">:commands</span> (magit-status magit-get-current-branch)
  <span class="org-builtin">:custom</span>
  (magit-display-buffer-function #'magit-display-buffer-same-window-except-diff-v1))

(<span class="org-keyword">use-package</span> <span class="org-constant">evil-magit</span>
  <span class="org-builtin">:after</span> magit)

</code></pre>

<p><strong>Operations</strong>
</p>

<p>Run <kbd>magit-status</kbd> in buffer from Git repo, press <kbd>?</kbd> for command panel.
</p>

<p>Refresh buffer with <kbd>g r</kbd>
</p>

<ul><li>Diffs</li>
<li>Commit log</li>
<li>Blame</li>
<li>Stashes</li>
<li>Branches</li>
<li>Rebase</li>
<li>Pull/push</li>
</ul>

<h3><a id="forge" class="anchor" href="#forge">¶</a>Forge</h3><p><a href="https://github.com/magit/forge">Forge</a> on GitHub
<a href="https://magit.vc/manual/forge">Forge Manual</a>
</p>

<p>Important: <a href="https://magit.vc/manual/ghub/Getting-Started.html#Getting-Started">Instructions to set up your GitHub token</a>
</p>

<pre><code class="emacs-lisp">
(<span class="org-keyword">use-package</span> <span class="org-constant">forge</span>)

</code></pre>
</div></div></div></div></div><footer class="blog-footer"><div class="container"><div class="row"><div class="col-sm col-md text-sm-left text-md-right text-lg-right text-xl-right"><p>Made with Emacs 27.2 (Org mode 9.4.4)</p><p><a href="https://systemcrafters.net/privacy-policy/">Privacy Policy</a></p></div></div></div></footer><script src="/js/bootstrap.bundle.min.js"/></body></html>
