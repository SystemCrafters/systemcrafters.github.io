<!DOCTYPE html><html lang="en"><head>&lt;!--  --&gt;<meta charset="utf-8"/><meta author="David Wilson"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="/css/bootstrap.min.css"/><link rel="stylesheet" href="/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="/css/code.css"/><link rel="stylesheet" href="/css/site.css"/><script defer="defer" data-domain="systemcrafters.net" src="https://plausible.io/js/plausible.js"></script><title>System Crafters Live! - October 15, 2021 - System Crafters</title></head><body><div class="blog-header"><div class="container"><div class="row align-items-center justify-content-between"><div class="col-sm-12 col-md-8"><div class="blog-title">System Crafters</div></div><div class="col-sm col-md"><div class="blog-description text-sm-left text-md-right text-lg-right text-xl-right"></div></div></div></div></div><div class="blog-masthead"><div class="container"><div class="row align-items-center justify-content-between"><div class="col-sm-12 col-md-12"><nav class="nav"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/videos">Videos</a> <a class="nav-link" href="https://wiki.systemcrafters.net">Wiki</a> <a class="nav-link" href="https://store.systemcrafters.net?utm_source=sc-site-nav">Merch Store</a> <a class="nav-link" href="/support-the-channel">Support The Channel</a></nav></div></div></div></div><div class="container"><div class="row"><div class="col-sm-12 blog-main"><div class="blog-post"><h1 class="blog-post-title">System Crafters Live! - October 15, 2021</h1><p class="blog-post-meta"></p>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;https://youtu.be/qk2Is_sC8Lk&quot;&gt;Watch the recording&lt;/a&gt; on YouTube!
&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;updates&quot; class=&quot;anchor&quot; href=&quot;#updates&quot;&gt;¶&lt;/a&gt;Updates&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;This week&apos;s video&lt;/li&gt;
&lt;li&gt;I&apos;ve started &lt;a href=&quot;https://github.com/daviwil/dotfiles/tree/guix-home/daviwil&quot;&gt;converting my dotfiles&lt;/a&gt; to use &lt;kbd&gt;guix home&lt;/kbd&gt;&lt;/li&gt;
&lt;li&gt;I might be taking 2 weeks off starting next week!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id=&quot;the-many-uses-of-embark&quot; class=&quot;anchor&quot; href=&quot;#the-many-uses-of-embark&quot;&gt;¶&lt;/a&gt;The Many Uses of Embark&lt;/h2&gt;&lt;p&gt;Embark is a package that enables you to define context-specific actions and key bindings for different &quot;targets&quot; that you might encounter in Emacs:
&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;Files&lt;/li&gt;
&lt;li&gt;Buffers&lt;/li&gt;
&lt;li&gt;Packages&lt;/li&gt;
&lt;li&gt;Bookmarks&lt;/li&gt;
&lt;li&gt;URLs&lt;/li&gt;
&lt;li&gt;Identifiers (symbols, commands, variables)&lt;/li&gt;
&lt;li&gt;Selected Regions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See the &lt;a href=&quot;https://github.com/oantolin/embark/wiki/Default-Actions&quot;&gt;Default Actions&lt;/a&gt; wiki page and the variable &lt;kbd&gt;embark-keymap-alist&lt;/kbd&gt; for a list of the default targets.
&lt;/p&gt;

&lt;p&gt;Embark can be used for a variety of different tasks:
&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;A &quot;context menu&quot;&lt;/li&gt;
&lt;li&gt;A command &quot;retargeter&quot;&lt;/li&gt;
&lt;li&gt;A quick-action key for the thing at point&lt;/li&gt;
&lt;li&gt;A way to gather completions for further actions&lt;/li&gt;
&lt;li&gt;A way to switch the current minibuffer command&lt;/li&gt;
&lt;li&gt;A &lt;kbd&gt;which-key&lt;/kbd&gt; alternative&lt;/li&gt;
&lt;li&gt;A completion interface&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you&apos;ve switched from Helm or Ivy to Vertico or Selectrum, Embark gives you the ability to run actions on the current completion selection, but I&apos;d argue that Embark is a lot more versatile than that.
&lt;/p&gt;

&lt;p&gt;We&apos;ll be taking a look at a few sources today for ideas on how you can use Embark in your Emacs workflow:
&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;Embark README: &lt;a href=&quot;https://github.com/oantolin/embark&quot;&gt;https://github.com/oantolin/embark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Karthik&apos;s great blog post:  &lt;a href=&quot;https://karthinks.com/software/fifteen-ways-to-use-embark/&quot;&gt;https://karthinks.com/software/fifteen-ways-to-use-embark/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/oantolin/embark/wiki/Additional-Actions&quot;&gt;https://github.com/oantolin/embark/wiki/Additional-Actions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/oantolin/embark/wiki/Additional-Configuration&quot;&gt;https://github.com/oantolin/embark/wiki/Additional-Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Prot&apos;s Embark video: &lt;a href=&quot;https://www.youtube.com/watch?v=uoP9ZYdNCHg&quot;&gt;https://www.youtube.com/watch?v=uoP9ZYdNCHg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Starting Configuration&lt;/strong&gt;
&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;embark&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:ensure&lt;/span&gt; t
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt;
  ((&lt;span class=&quot;org-string&quot;&gt;&quot;C-.&quot;&lt;/span&gt; . embark-act)
   (&lt;span class=&quot;org-string&quot;&gt;&quot;M-.&quot;&lt;/span&gt; . embark-dwim)
   (&lt;span class=&quot;org-string&quot;&gt;&quot;C-h B&quot;&lt;/span&gt; . embark-bindings))

  &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; prefix-help-command #&apos;embark-prefix-help-command))

&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;questions&quot; class=&quot;anchor&quot; href=&quot;#questions&quot;&gt;¶&lt;/a&gt;Questions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;How does one use &lt;kbd&gt;embark-collect-live&lt;/kbd&gt; as a completion system?&lt;/li&gt;
&lt;li&gt;How can you customize the default action for &lt;kbd&gt;embark-dwim&lt;/kbd&gt;?&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;&lt;a id=&quot;the-final-configuration&quot; class=&quot;anchor&quot; href=&quot;#the-final-configuration&quot;&gt;¶&lt;/a&gt;The &quot;final&quot; configuration&lt;/h3&gt;&lt;p&gt;Here&apos;s a transcript of the configuration I was experimenting with in the stream:
&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;embark&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; t
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt;
  ((&lt;span class=&quot;org-string&quot;&gt;&quot;C-.&quot;&lt;/span&gt; . embark-act)
   (&lt;span class=&quot;org-string&quot;&gt;&quot;M-.&quot;&lt;/span&gt; . embark-dwim)
   (&lt;span class=&quot;org-string&quot;&gt;&quot;C-h B&quot;&lt;/span&gt; . embark-bindings))
  &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; prefix-help-command #&apos;embark-prefix-help-command))

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;embark-consult&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; t)

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;ace-window&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; t)

(global-set-key (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;M-o&quot;&lt;/span&gt;) &apos;ace-window)
(&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; aw-dispatch-always t)

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;0x0&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; t)

(define-key embark-region-map (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;U&quot;&lt;/span&gt;) &apos;0x0-dwim)

(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/test-func&lt;/span&gt; ()
  (message &lt;span class=&quot;org-string&quot;&gt;&quot;~/init.el&quot;&lt;/span&gt;))

(&lt;span class=&quot;org-keyword&quot;&gt;eval-when-compile&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;defmacro&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/embark-ace-action&lt;/span&gt; (fn)
    `(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; ,(intern (concat &lt;span class=&quot;org-string&quot;&gt;&quot;my/embark-ace-&quot;&lt;/span&gt; (symbol-name fn))) ()
       (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
       (&lt;span class=&quot;org-keyword&quot;&gt;with-demoted-errors&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;%s&quot;&lt;/span&gt;
         (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;ace-window&lt;/span&gt;)
         (aw-switch-to-window (aw-select nil))
         (call-interactively (symbol-function &apos;,fn)))))

  (&lt;span class=&quot;org-keyword&quot;&gt;defmacro&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/embark-split-action&lt;/span&gt; (fn split-type)
    `(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; ,(intern (concat &lt;span class=&quot;org-string&quot;&gt;&quot;my/embark-&quot;&lt;/span&gt;
                             (symbol-name fn)
                             &lt;span class=&quot;org-string&quot;&gt;&quot;-&quot;&lt;/span&gt;
                             (car (last  (split-string
                                          (symbol-name split-type) &lt;span class=&quot;org-string&quot;&gt;&quot;-&quot;&lt;/span&gt;))))) &lt;span class=&quot;org-warning&quot;&gt;()&lt;/span&gt;
       (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
       (funcall #&apos;,split-type)
       (call-interactively #&apos;,fn))))

(define-key embark-file-map     (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;o&quot;&lt;/span&gt;) (my/embark-ace-action find-file))
(define-key embark-buffer-map   (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;o&quot;&lt;/span&gt;) (my/embark-ace-action switch-to-buffer))
(define-key embark-bookmark-map (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;o&quot;&lt;/span&gt;) (my/embark-ace-action bookmark-jump))

(define-key embark-file-map     (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;2&quot;&lt;/span&gt;) (my/embark-split-action find-file split-window-below))
(define-key embark-buffer-map   (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;2&quot;&lt;/span&gt;) (my/embark-split-action switch-to-buffer split-window-below))
(define-key embark-bookmark-map (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;2&quot;&lt;/span&gt;) (my/embark-split-action bookmark-jump split-window-below))

(define-key embark-file-map     (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;3&quot;&lt;/span&gt;) (my/embark-split-action find-file split-window-right))
(define-key embark-buffer-map   (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;3&quot;&lt;/span&gt;) (my/embark-split-action switch-to-buffer split-window-right))
(define-key embark-bookmark-map (kbd &lt;span class=&quot;org-string&quot;&gt;&quot;3&quot;&lt;/span&gt;) (my/embark-split-action bookmark-jump split-window-right))

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</div></div></div></div><footer class="blog-footer"><div class="container"><div class="row"><div class="col-sm col-md text-sm-left text-md-right text-lg-right text-xl-right"><p>Made with Emacs 27.2 (Org mode 9.4.4)</p><p><a href="https://systemcrafters.net/privacy-policy/">Privacy Policy</a></p></div></div></div></footer><script src="/js/bootstrap.bundle.min.js"/></body></html>
